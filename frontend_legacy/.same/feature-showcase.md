# AI Workflow 功能展示

## 🎯 Version 25 新功能

### 1. 尺寸比例选择 📐

#### 图片生成节点
现在可以选择5种不同的宽高比：

- **1:1 方形** (1024×1024) - 适合社交媒体头像、正方形海报
- **16:9 横屏** (1920×1080) - 适合横屏视频、PPT背景
- **9:16 竖屏** (1080×1920) - 适合手机竖屏、短视频
- **4:3 传统** (1440×1080) - 适合传统显示器、相框
- **3:4 竖版** (1080×1440) - 适合竖版海报、杂志封面

**使用方法**：
1. 创建图片生成节点
2. 在"比例"下拉菜单中选择所需比例
3. 点击执行，生成的图片将自动适配选定比例

#### 视频生成节点
现在可以选择4种宽高比：

- **16:9 横屏** (1920×1080) - 标准横屏视频
- **9:16 竖屏** (1080×1920) - 抖音、快手等竖屏平台
- **1:1 方形** (1080×1080) - Instagram等方形视频
- **4:3 传统** (1440×1080) - 传统电视比例

### 2. 多图片生成 🖼️

#### 功能说明
- 可一次生成1-4张图片
- 每张图片独立显示
- 自动堆叠排列，节省空间
- 保持选定的宽高比

#### 使用技巧
1. 在"数量"选项中选择1-4
2. 设置其他参数（模型、模式、比例）
3. 点击执行
4. 等待所有图片生成完成
5. 每张图片都可以独立使用或导出

### 3. 画布背景颗粒效果 ✨

#### 视觉提升
- 微妙的点阵颗粒背景
- 双层渐变效果
- 蓝色调点缀
- 不影响节点清晰度

#### 设计目的
- 提升视觉层次感
- 减少大面积空白的单调感
- 保持专业美观的界面
- 符合现代设计趋势

### 4. 优化连接线样式 🔗

#### 新样式特性
- **默认状态**：3px粗细，60%透明度蓝色
- **悬停状态**：3.5px粗细，90%透明度，增强阴影
- **选中状态**：3.5px粗细，100%不透明，强阴影
- **平滑过渡**：使用cubic-bezier缓动函数

#### 交互改进
- 鼠标悬停时明显反馈
- 选中时清晰识别
- 优雅的动画过渡
- 增强的阴影效果

### 5. 节点高度动态调整 📏

#### 智能计算
- 根据内容自动调整高度
- 支持任意数量的生成图片
- 根据宽高比计算显示高度
- 防止内容溢出或压缩

#### 技术细节
```typescript
// 自动计算节点高度
getBodyHeightPx(node) {
  const baseHeight = ROW_HEIGHT * 5.5
  let imageHeight = 0

  if (node.generatedImages.length > 0) {
    const ratio = ASPECT_RATIOS.find(ar => ar.id === node.aspectRatio)
    const displayWidth = NODE_WIDTH - 16
    const displayHeight = (displayWidth * ratio.height) / ratio.width

    // 每张图片的高度 + 间距
    imageHeight = node.generatedImages.length * (min(displayHeight, 200) + 8)
  }

  return baseHeight + imageHeight
}
```

## 🎬 使用场景

### 场景1：社交媒体内容创作

1. **创建输入节点**
   - 输入提示词："时尚博主照片，现代都市背景"

2. **创建图片生成节点**
   - 选择模型：Flux Pro 1.1
   - 比例：1:1 方形（Instagram）
   - 数量：4

3. **执行生成**
   - 一次性生成4张不同的方形图片
   - 从中选择最满意的发布

### 场景2：视频内容准备

1. **创建输入节点**
   - 输入关键帧描述
   - 上传参考图片

2. **创建图片生成节点**
   - 比例：16:9 横屏
   - 生成视频关键帧

3. **创建视频生成节点**
   - 连接图片节点输出
   - 选择16:9比例
   - 时长：5秒
   - 生成流畅的视频片段

### 场景3：多比例素材准备

1. **创建一个输入节点**（主题描述）

2. **创建多个图片生成节点**
   - 节点A：1:1 方形（社交媒体）
   - 节点B：16:9 横屏（网站banner）
   - 节点C：9:16 竖屏（手机海报）

3. **并行执行**
   - 一次性生成所有比例的素材
   - 适配不同平台需求

## 💡 最佳实践

### 选择合适的宽高比

| 用途 | 推荐比例 | 原因 |
|------|---------|------|
| Instagram 帖子 | 1:1 | 最大化显示面积 |
| YouTube 视频 | 16:9 | 标准视频格式 |
| TikTok 短视频 | 9:16 | 竖屏全屏体验 |
| 网站横幅 | 16:9 或 4:3 | 适配宽屏显示 |
| 手机壁纸 | 9:16 | 竖屏高清 |
| 海报/宣传单 | 3:4 | 传统印刷比例 |

### 优化节点布局

1. **纵向排列**：将相关节点纵向连接，清晰展示工作流
2. **分组对齐**：同类型节点对齐排列，便于管理
3. **留出空间**：为生成内容预留足够显示空间
4. **标记关键节点**：使用节点名称标记重要步骤

### 提升性能

1. **控制数量**：生成大量图片时，建议分批执行
2. **合理比例**：根据实际需求选择比例，避免过大尺寸
3. **清理无用节点**：定期删除不需要的节点和连接
4. **保存工作流**：将常用工作流保存为模板

## 🚀 下一步

### 即将推出的功能

- [ ] 从生成的图片创建新节点
- [ ] 链式工作流自动化
- [ ] 批量导出生成内容
- [ ] 节点模板库
- [ ] 工作流分享功能

### 正在开发

- [ ] 真实AI API集成
- [ ] 用户作品管理
- [ ] 云端同步
- [ ] 协作编辑

---

**更新时间**：2025-11-02
**当前版本**：v25
**下个版本预告**：链式创作功能 + 真实API集成
