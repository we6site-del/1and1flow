# AI Workflow 使用指南

## 🚀 快速开始

AI Workflow 是一个基于节点的无限画布应用，集成了多种 AI 模型，用于生成图片、视频和文本内容。

### 核心功能

1. **节点式工作流**：通过连接不同的节点创建 AI 创作流程
2. **多模型支持**：集成 OpenAI、Anthropic、Google 等主流 AI 模型
3. **实时对话**：右侧 AI 聊天面板支持实时对话和辅助创作
4. **用户认证**：支持邮箱密码、Google 和 GitHub 登录

## 📦 节点类型

### 1. 输入节点 (Input Node)
- **图标**：📝
- **功能**：输入文本提示词和上传参考图片
- **特性**：
  - 支持多行文本输入
  - 支持多张图片上传（网格显示）
  - 可删除已上传的图片
- **连接**：输出端口可连接到图片生成节点或视频生成节点

### 2. 文本生成节点 (Text Generation Node)
- **图标**：📄
- **功能**：生成 AI 文本内容
- **参数**：
  - 模型选择（GPT-4o、Claude 3.5 等）
  - 提示词输入
  - 温度控制（0-2）
  - 最大令牌数（100-2000）
- **连接**：
  - 输入：接收文本或数据
  - 输出：生成的文本内容

### 3. 图片生成节点 (Image Generation Node)
- **图标**：🖼️
- **功能**：根据提示词和参考图生成图片
- **参数**：
  - 模型（Flux Pro、Seedream 4、DALL-E 3 等）
  - 模式（Auto、Fast、Quality）
  - 生成数量（1-4 张）
- **连接**：
  - 输入：接收文本提示词和参考图
  - 输出：生成的图片

### 4. 视频生成节点 (Video Generation Node)
- **图标**：🎬
- **功能**：从图片或文本生成视频
- **参数**：
  - 模型（Runway Gen-4、Luma Ray 2 等）
  - 时长（3、5、10 秒）
  - FPS（24）
- **特性**：显示生成进度条
- **连接**：
  - 输入：接收图片或文本
  - 输出：生成的视频

## 💬 AI 聊天面板

### 顶部工具栏
- **➕ 新建对话**：创建新的对话会话
- **🕐 历史**：查看和加载历史对话
- **🔗 分享**：生成分享链接
- **📄 文件**：上传文件到对话
- **✖️ 隐藏**：隐藏聊天面板

### 输入区功能
- **➕ 上传图片**：添加图片到消息
- **@ 选择模型**：切换 AI 模型
- **🌐 网络搜索**：启用网络搜索功能
- **⬛ AI 模型**：打开模型选择器

### 支持的 AI 模型
1. **GPT-4o** (OpenAI) - 最新多模态模型
2. **Claude 3.5 Sonnet** (Anthropic) - 强大的推理能力
3. **Gemini 2.0 Flash** (Google) - 快速响应
4. **GPT-4o Mini** (OpenAI) - 经济高效
5. **DeepSeek Chat** (DeepSeek) - 开源替代

### 使用技巧
- **Enter** 键发送消息
- **Shift + Enter** 换行
- 点击模型图标可切换不同的 AI
- 启用网络搜索获取最新信息

## 🔐 用户认证

### 注册账号
1. 点击左上角"登录/注册"按钮
2. 切换到"注册"标签
3. 输入邮箱和密码（至少 6 位）
4. 点击"注册"按钮
5. 查看邮箱验证链接

### 登录方式
- **邮箱密码**：使用注册的邮箱和密码
- **Google 登录**：一键使用 Google 账号
- **GitHub 登录**：一键使用 GitHub 账号

## 🎨 画布操作

### 基础操作
- **选择**：点击选择工具（或按 V）
- **手抓**：拖动画布（或按 H）
- **绘制**：绘制自由形状（或按 D）
- **缩放**：鼠标滚轮或底部工具栏

### 节点操作
- **创建**：从左侧工具栏拖拽节点到画布
- **连接**：拖拽节点右侧蓝色圆点到另一个节点
- **编辑**：双击节点或点击选中后编辑
- **删除**：选中节点后按 Delete 键
- **移动**：拖拽节点移动位置

### 连接线
- **样式**：蓝色半透明，悬停时加粗
- **创建**：拖拽输出端口到输入端口
- **删除**：选中连接线按 Delete

## ⚙️ 配置 API 密钥

### 方法 1：环境变量
1. 复制 `.env.example` 为 `.env`
2. 填入你的 API 密钥：

```bash
VITE_OPENAI_API_KEY=sk-...
VITE_ANTHROPIC_API_KEY=sk-ant-...
VITE_GOOGLE_API_KEY=AIza...
VITE_DEEPSEEK_API_KEY=sk-...
```

3. 重启开发服务器

### 方法 2：UI 配置（待开发）
未来版本将支持在 UI 中直接配置 API 密钥

### 获取 API 密钥
- **OpenAI**: https://platform.openai.com/api-keys
- **Anthropic**: https://console.anthropic.com/settings/keys
- **Google AI**: https://aistudio.google.com/app/apikey
- **DeepSeek**: https://platform.deepseek.com/api_keys

## 🎯 工作流示例

### 示例 1：图片生成
1. 创建输入节点，输入提示词
2. 创建图片生成节点
3. 连接输入节点到图片生成节点
4. 选择模型和参数
5. 点击"执行"按钮生成图片

### 示例 2：文本生成
1. 创建输入节点，输入主题
2. 创建文本生成节点
3. 设置温度和令牌数
4. 点击"生成文本"获取内容

### 示例 3：视频生成
1. 创建输入节点，上传参考图
2. 创建视频生成节点
3. 设置时长和模型
4. 执行生成，观察进度条
5. 查看生成的视频

## 🛠️ 快捷键

### 画布操作
- `V` - 选择工具
- `H` - 手抓工具
- `D` - 绘制工具
- `Delete` - 删除选中项
- `Ctrl/Cmd + Z` - 撤销
- `Ctrl/Cmd + Shift + Z` - 重做

### 聊天面板
- `Enter` - 发送消息
- `Shift + Enter` - 换行

## 📌 常见问题

### Q: 为什么显示模拟响应？
A: 需要配置 API 密钥才能使用真实的 AI 功能。请查看"配置 API 密钥"部分。

### Q: 如何保存我的工作？
A: 应用会自动保存到浏览器本地存储。未来版本将支持云端保存。

### Q: 支持哪些文件格式？
A: 目前支持图片格式（JPG、PNG、WebP）。未来将支持更多格式。

### Q: 如何分享我的创作？
A: 使用聊天面板的分享功能生成链接（需要登录）。

### Q: API 调用会产生费用吗？
A: 是的，使用第三方 AI API 需要付费。建议查看各服务商的定价。

## 🔄 更新日志

### Version 22 (当前)
- ✅ 添加文本生成节点
- ✅ 优化连接线样式
- ✅ 集成多个 AI Provider
- ✅ 完整的用户认证系统
- ✅ AI 聊天面板全功能

### Version 21
- ✅ AI API 集成框架
- ✅ 用户认证 UI
- ✅ 社交登录支持

### Version 20
- ✅ AI 聊天面板完整功能
- ✅ 模型选择器
- ✅ 对话历史管理

## 📧 获取帮助

- **问题反馈**：通过 GitHub Issues 提交
- **功能建议**：欢迎提出新的想法
- **技术支持**：查看文档或联系开发团队

---

**享受创作！🎨✨**
